; Generated by holtek-gcc v3.19, Wed Sep 06 23:59:22 2023
; 
; Configuration:
;       without long instruction
;       Single ROM, Multi-RAM
;       bits_per_rom_unit:16
;       with mp1
;       with tbhp, address(0x9)
;          Use tabrd-const
;       
;       
;       
; use 'tabrdc' instead of 'tabrd'
;       

#pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
; Rebuild 718

ir equ [2]
mp equ [3]
sbp equ [1]
acc equ [5]
bp equ [4]
tblp equ [7]
tbhp equ [9]
status equ [10]
c equ [10].0
ac equ [10].1
z equ [10].2
ov equ [10].3
intc equ [11]

extern ra:byte
extern rb:byte
extern rc:byte
extern rd:byte
extern re:byte
extern rf:byte
extern rg:byte
extern rh:byte
extern _Crom2Prom:near
extern _Crom2PromNext:near

RAMBANK 0 @HCCINIT, @HCCINIT0

RAMBANK 0 @BITDATASEC, @BITDATASEC1
@HCCINIT	.section 'data'
@HCCINIT0	.section 'data'
@BITDATASEC	 .section 'data'
@BITDATASEC1	 .section 'data'

#pragma debug scope 1 1
	extern __DELAY3:near
	extern __DELAYX3:near
	extern __DELAYX6:near
	extern __DELAYY5:near
	extern __DELAYY3:near
	extern _builtin_holtek_delay_2:byte
public _mpu_cmd
#pragma debug scope 2 1
#line 15 "C:\Users\mediv\Nhap\demo\mpu6050.c"
_mpu_cmd .section 'code'
_mpu_cmd proc
public _mpu_cmd_2
    local _mpu_cmd_2 db 2 dup(?)	; 1,1
	mov _mpu_cmd_2[1],a
#pragma debug variable 8 2 _mpu_cmd_2+1 "RA"
#pragma debug variable 8 2 _mpu_cmd_2+0 "data"
#line 16 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _I2C_Start
#line 17 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,208
	call _Wr_Byte
	call _Check_ACK
#line 18 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,_mpu_cmd_2[1]
	call _Wr_Byte
	call _Check_ACK
#line 19 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,_mpu_cmd_2[0]
	call _Wr_Byte
	call _Check_ACK
#line 20 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _I2C_Stop
#line 21 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,10
	mov __delay_ms_2[0],a
	clr __delay_ms_2[1]
	clr __delay_ms_2[2]
	clr __delay_ms_2[3]
	call __delay_ms
	ret
_mpu_cmd endp
#line 21 "C:\Users\mediv\Nhap\demo\mpu6050.c"
#pragma debug scope 1 1
public _mpu_init
#pragma debug scope 3 1
#line 24 "C:\Users\mediv\Nhap\demo\mpu6050.c"
_mpu_init .section 'code'
_mpu_init proc
#line 25 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,100
	mov __delay_ms_2[0],a
	clr __delay_ms_2[1]
	clr __delay_ms_2[2]
	clr __delay_ms_2[3]
	call __delay_ms
#line 26 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,7
	mov _mpu_cmd_2[0],a
	mov a,25
	call _mpu_cmd
#line 27 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,1
	mov _mpu_cmd_2[0],a
	mov a,107
	call _mpu_cmd
#line 28 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	clr _mpu_cmd_2[0]
	mov a,26
	call _mpu_cmd
#line 29 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	clr _mpu_cmd_2[0]
	mov a,28
	call _mpu_cmd
#line 30 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,24
	mov _mpu_cmd_2[0],a
	mov a,27
	call _mpu_cmd
#line 31 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	clr _mpu_cmd_2[0]
	mov a,56
	call _mpu_cmd
#line 32 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,10
	mov __delay_ms_2[0],a
	clr __delay_ms_2[1]
	clr __delay_ms_2[2]
	clr __delay_ms_2[3]
	call __delay_ms
	ret
_mpu_init endp
#line 32 "C:\Users\mediv\Nhap\demo\mpu6050.c"
#pragma debug scope 1 1
public _mpu_read
#pragma debug scope 4 1
#line 35 "C:\Users\mediv\Nhap\demo\mpu6050.c"
_mpu_read .section 'code'
_mpu_read proc
public _mpu_read_2
    local _mpu_read_2 db 21 dup(?)	; 21,0
#pragma debug variable 28 4 _mpu_read_2+0 "AX"
#pragma debug variable 28 4 _mpu_read_2+3 "AY"
#pragma debug variable 28 4 _mpu_read_2+6 "AZ"
#pragma debug variable 28 4 _mpu_read_2+9 "t"
#pragma debug variable 28 4 _mpu_read_2+12 "GX"
#pragma debug variable 28 4 _mpu_read_2+15 "GY"
#pragma debug variable 28 4 _mpu_read_2+18 "GZ"
#line 38 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _I2C_Start
#line 39 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,208
	call _Wr_Byte
	call _Check_ACK
#line 40 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,59
	call _Wr_Byte
	call _Check_ACK
#line 41 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _I2C_Stop
#line 42 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _I2C_Start
#line 43 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,209
	call _Wr_Byte
	call _Check_ACK
#line 44 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _Rd_Byte
	call _Rd_Byte
#line 45 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _Rd_Byte
	call _Rd_Byte
#line 46 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _Rd_Byte
	call _Rd_Byte
#line 47 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _Rd_Byte
	call _Rd_Byte
#line 48 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _Rd_Byte
	call _Rd_Byte
#line 49 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _Rd_Byte
	call _Rd_Byte
#line 50 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _Rd_Byte
	call _Rd_Byte
#line 51 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	call _I2C_Stop
	ret
_mpu_read endp
#line 51 "C:\Users\mediv\Nhap\demo\mpu6050.c"
#pragma debug scope 1 1
public _read
#pragma debug scope 5 1
#line 62 "C:\Users\mediv\Nhap\demo\mpu6050.c"
_read .section 'code'
_read proc
#line 66 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	clr _Rx_Buff[0]
	clr _Rx_Buff[1]
	clr _Rx_Buff[2]
	clr _Rx_Buff[3]
#line 69 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,4
	mov _I2C_Read_2[2],a
	mov a,low offset _Rx_Buff
	mov _I2C_Read_2[0],a
	mov a,high offset _Rx_Buff
	mov _I2C_Read_2[1],a
	call _I2C_Read
#line 70 "C:\Users\mediv\Nhap\demo\mpu6050.c"
;# 70 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	clr wdt
#line 71 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,_Rx_Buff[0]
	mov rd,a
	mov a,_Rx_Buff[1]
	mov rc,a
	mov a,_Rx_Buff[2]
	mov rb,a
	mov a,rc
	add a,rd
	mov ra,a
	mov a,rb
	addm a,ra
	mov a,ra
	mov _Rd_CheckSum[0],a
#line 72 "C:\Users\mediv\Nhap\demo\mpu6050.c"
;# 72 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	nop
#line 74 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,ra
	sub a,_Rx_Buff[3]
	snz z
	jmp _L5
#line 76 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	clr _Rd_CheckSum[0]
#line 77 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,rd
	mov _Rx_Data[0],a
#line 78 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,rc
	mov _Rx_Data[1],a
#line 79 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,rb
	mov _Rx_Data[2],a
#line 80 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,ra
	mov _Rx_Data[3],a
#line 83 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	clr _Rx_Buff[0]
	clr _Rx_Buff[1]
	clr _Rx_Buff[2]
	clr _Rx_Buff[3]
#line 85 "C:\Users\mediv\Nhap\demo\mpu6050.c"
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF 1>263690
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	ERRMESSAGE 'the value 1of the argument exceeds the maxinum 263690'
	ENDIF
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF 1<0
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	ERRMESSAGE 'the value 1 of the argument exceeds the mininum 0'
	ENDIF
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF 1==0
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	JMP $
	ENDIF
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF 1==1
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	NOP
	ENDIF
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF 1==2
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	NOP
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	NOP
	ENDIF
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF 1==3
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	NOP
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	NOP
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	NOP
	ENDIF
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF (1<8) AND (1>3)
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	CALL __DELAY3 + 7 -1
	ENDIF
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF (1< 0404h) AND (1>7)
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	MOV A,1/4-1
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	CALL __DELAYX3 + 3 -(1 MOD 4)
	ENDIF
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF (1< 0x40B) AND (1> 0403h)
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	MOV A,0 
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	CALL __DELAYX6 + 0x40a -1
	ENDIF
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF (1 >= 0x40b) AND ((((1-9)%0402h)/4+1)>256)
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	MOV A,(1-9)/0402h
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	MOV _builtin_holtek_delay_2,A
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	MOV A,0
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	CALL __DELAYY5 +5- (((1-9)%0402h)%6)
	ENDIF
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	IF (1 >= 0x40b) AND ((((1-9)%0402h)/4+1)<=256)
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	MOV A,(1-9)/0402h
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	MOV _builtin_holtek_delay_2,A
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	MOV A,((1-9)%0402h)/4+1
;# 85 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	CALL __DELAYY3 +3-(((1-9)%0402h)%4)
	ENDIF
	jmp _L6
_L5:
#line 89 "C:\Users\mediv\Nhap\demo\mpu6050.c"
;# 89 "C:\Users\mediv\Nhap\demo\mpu6050.c" 1
	nop
_L6:
#line 92 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,low offset _Rx_Data
	mov rb,a
	mov a,high offset _Rx_Data
	mov rc,a
#line 93 "C:\Users\mediv\Nhap\demo\mpu6050.c"
	mov a,rb
	ret
_read endp
#line 93 "C:\Users\mediv\Nhap\demo\mpu6050.c"
#pragma debug scope 1 1
#line 6 "C:\Users\mediv\Nhap\demo\mpu6050.c"
public _Rd_CheckSum
@HCCINIT0 .section 'data'
_Rd_CheckSum	db 0
#pragma debug variable 8 1 _Rd_CheckSum "Rd_CheckSum"

@HCCINIT .section 'data'
#line 5 "C:\Users\mediv\Nhap\demo\mpu6050.c"
public _Rx_Data
@HCCINIT0 .section 'data'
_Rx_Data	db 4 dup(0)
#pragma debug array 42 8 4 1
#pragma debug variable 42 1 _Rx_Data "Rx_Data"

@HCCINIT .section 'data'
#line 4 "C:\Users\mediv\Nhap\demo\mpu6050.c"
public _Rx_Buff
@HCCINIT0 .section 'data'
_Rx_Buff	db 4 dup(0)
#pragma debug variable 42 1 _Rx_Buff "Rx_Buff"

@HCCINIT .section 'data'
extern _I2C_Start:near
extern _Wr_Byte:near
extern _Check_ACK:near
extern _I2C_Stop:near
extern __delay_ms_2:byte
extern __delay_ms:near
extern _Rd_Byte:near
extern _I2C_Read_2:byte
extern _I2C_Read:near

; 
; Generated by holtek-gcc v3.19, Wed Sep 06 23:59:22 2023
; Rebuild 718
; end of file
